## 2.3 初始化向导与首轮配置

本节介绍通过官方 onboarding 向导生成最小配置，并完成基础交互验证。

### 2.3.1 运行初始化向导 （CLI）

执行以下命令启动向导。官方推荐使用 `--install-daemon` 参数，它不仅会生成工作区配置文件，还能自动安装后台守护进程（如 macOS 的 LaunchAgent 或 Linux/WSL2 的 systemd 用户服务）。

```bash
openclaw onboard --install-daemon
```

> **提示**：如果只需本地临时试用而不希望安装为系统后台服务，可仅运行 `openclaw onboard`。

### 2.3.2 向导配置项解析与避坑指南

在向导的系列提问中，实测验证出的一条对排错压力最小的“黄金路径”如下：

1. **Onboarding mode** 选 `QuickStart`：让你以最小配置量快速跑起来。默认绑定在本地 `127.0.0.1:18789` 并且关闭 Tailscale 外部暴露。
2. **模型与 Auth (Model/Auth)**：建议绑定 Anthropic API Key 或 OpenAI。若使用其他兼容供应商，可根据提示输入。
3. **工作区 (Workspace)**：默认生成在 `~/.openclaw/workspace`，用于存放 Agent 的核心数据。建议保持默认。
4. **渠道 (Channels)** 选 `Skip for now`：这是极大降低挫败感的关键。先把自带的 Dashboard（控制台）跑通，确认大模型和基础环境都没问题，后续再从容配置飞书或 WhatsApp 等渠道。

向导结束时会自动进行 Health check（健康检查），并启动 Gateway。

### 2.3.3 访问 Dashboard 并完成首轮对话

向导走通并且后台 Gateway 启动后，不要急着去做复杂开发！这一步的核心是通过自带的 **Control UI (Dashboard)** 完成初始化对话（Bootstrap）。

在终端执行以下命令直接打开本地控制台，或者在浏览器访问 `http://127.0.0.1:18789/`：

```bash
openclaw dashboard
```

在 Dashboard 的对话框中，主动输入一段话，给 Agent 定好边界：

1. **你是谁**：描述你的职位标签。
2. **它将扮演什么角色**：例如“我的日常文档处理助手”。
3. **冒烟测试**：抛出一个立即可验证且无需私域知识的请求。

**具体例子：一次成功的初始化对话**

```text
你好！我是一名普通的上班族，平时事情比较多容易忘。
请你扮演我的日常效率助手，遵守以下规则：
1. 给出的建议要接地气，符合普通人的生活实际
2. 回答尽量简短、结构化，不要长篇大论
3. 遇到专业名词，请用大白话向我解释

作为冒烟测试，请给我一个今天就能执行的 5 条待办日常清单，
按优先级排序，用 Markdown 格式返回。
```

如果在 Dashboard 中看到了类似如下结构化、贴近生活的回复，恭喜你，基础安装完全成功：

```markdown
## 今日 5 条待办日常清单

1. **确定今日最重要的一件事**（优先级：最高）
   在开始一天日程前，先写下今天必须完成的那唯一一件核心任务。

2. **集中处理未读信息**（优先级：高）
   划出 15-30 分钟专用时间，统一回复重要消息。
...
```

如果收到的是乱码、无响应或者报错，请回退检查网络与 API Key。

### 2.3.4 首轮验收标准

建议通过自带的诊断工具进行检查：

```bash
# 检查 Gateway 运行状态
openclaw gateway status

# 执行体检验证配置
openclaw doctor
```

在诊断通过后，说明“模型与基础控制链路”已经打通。下一节将详细介绍如何对运行在后台的 Gateway 进行监控、日志排查与深度可用性验证。

下一节入口：[2.4 守护进程与可用性验收](2.4_gateway_service.md)
