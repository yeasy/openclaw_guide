## 2.3 初始化向导与首轮配置

本节介绍通过官方 onboarding 向导生成最小配置，并完成基础交互验证。

### 2.3.1 运行初始化向导

执行以下命令之一启动向导，这将生成主配置文件（默认路径为 `~/.openclaw/openclaw.json`）并创建你的本机工作区骨架。

```bash
# 本地试用/单机：先跑向导（不安装后台服务）

openclaw onboard

# 服务器长期运行：在向导基础上安装为系统后台服务（如你的版本支持）

openclaw onboard --install-daemon
```

> 提示：若你的版本没有某个选项，以 `openclaw onboard --help` 的实际输出为准。

## 2.3.2 黄金路径：向导避坑指南

在向导的系列提问中，实测验证出的一条对排错压力最小的“黄金路径”如下：

1. **Onboarding mode** 选 `QuickStart`：让你以最小配置量快速跑起来。
2.**模型与 Provider 鉴权**：如果你使用国产大模型，遇到鉴权方法选择时，优先选择含有 `OAuth / Profile / Access Token` 的专项选项，而不是普通 API 密钥。
3. **配置 Channel 时** 选 `Skip for now`：这是极大降低挫败感的关键。先把“TUI 里能稳定对话”跑通，确认大模型和基础环境都没问题，后续再从容配置飞书。
4. **Hatch 选项** 选 `Hatch in TUI`：这是最保险的触达手段。不用担心端口冲突和 WebUI 网络转发，直接在终端界面内展开你和 AI 平台的第一句对话。

### 2.3.3 完成首轮 Bootstrap

向导走通，并且终端成功显示交互 TUI 后，不要急着去做任何开发！这一步的核心是完成 **初始化对话（Bootstrap）**。主动在对话框输入一段话，给它定好边界：

1. **你是谁**：描述你的职位标签。
2. **它将扮演什么角色**：例如“我的日常文档处理助手”。
3. **冒烟测试**：抛出一个立即可验证且无需私域知识的请求，例如：“请给我一个今天就能执行的 5 条待办日常清单，并按优先级排序返回 Markdown”。

**具体例子：一次成功的 Bootstrap 对话** 假设你是一个普通的上班族或学生，想让智能体扮演你的日常效率助手。你可以这样输入：

```text
你好！我是一名普通的上班族，平时事情比较多容易忘。
请你扮演我的日常效率助手，遵守以下规则：
1. 给出的建议要接地气，符合普通人的生活实际
2. 回答尽量简短、结构化，不要长篇大论
3. 遇到专业名词，请用大白话向我解释

作为冒烟测试，请给我一个今天就能执行的 5 条待办日常清单，
按优先级排序，用 Markdown 格式返回。
```

如果看到了类似如下的结构化、贴近生活的回复，恭喜你，你的基础安装完全成功：

```markdown
## 今日 5 条待办日常清单

1. **确定今日最重要的一件事**（优先级：最高）
   在开始一天日程前，先写下今天必须完成的那唯一一件核心任务。

2. **集中处理未读信息**（优先级：高）
   划出 15-30 分钟专用时间，统一回复微信或邮件中的重要消息。

3. **桌面与工作区清理**（优先级：中）
   稍微花 5 分钟收拾杂物，倒满水杯，给自己换个清爽的环境。

4. **进行简单的拉伸运动**（优先级：中）
   活动一下颈背和腰部，接杯水走动一下，缓解身体疲劳。

5. **规划明天的核心事项** （优先级：中）
   在晚上休息或下班前，花几分钟写下明天要做的最重要的事情。
```

如果收到的是乱码、无响应或者报错，请回到 2.1 节检查网络与 API Key。

### 2.3.4 首轮验收标准

建议把初始化验收写成可复验清单，避免“感觉能用”。新开一个终端面板执行检查：

通过以下三项都通过后，说明“模型与基础控制链路”已经打通。下一节会把视角从前台 TUI 切到后台服务：如何以守护进程方式启动、观察日志、做最小可用性验证，并为后续接入渠道做准备。

- 如果你只是本地试用/单机使用：可以先停在本节，后续需要时再补 2.4。
- 如果你准备接入 Telegram/WhatsApp 等渠道，或希望它在服务器上持续运行：建议继续阅读 2.4。

下一节入口：[2.4 服务化启动与可用性验收](2.4_first_run.md)

- `health` 正常返回各模块存活。
- `status --deep` 未出现致命关键依赖错误。
- `models status --check` 模型接口连通性验证亮绿灯。

```bash
openclaw health --json
openclaw status --deep
openclaw models status --check
```
